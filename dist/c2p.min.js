!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).c2p=t()}(this,(function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}
/**
   * Convert callback style APIs to Promise based APIs.
   *
   *   @license MIT
   *   @version 0.5.0
   *   @repo    https://github.com/duzun/callback-promise
   *   @author  Dumitru Uzun (DUzun.Me)
   */var t="undefined"!=typeof Promise?Promise:void 0,o={}.hasOwnProperty,e=[],i=e.unshift,r=e.push,u=e.slice;function f(n,o,e,c,p,s){var y,a;return l(n)?(s=p,p=c,c=e,e=o,o=n,n=void 0):l(o)||(o=n[o]),!0===e&&null==p&&(p=e,e=void 0,!0===c&&null==s&&(s=c,c=void 0)),!1===e?y=function(n,t){t(n)}:l(e)?y=function(n,t,o,i){t(e.apply(o,n))}:(e=+e||0,y=function(n,t){t(n[e])}),null!=c&&(c=+c||0,a=function(n){var t=n[c];if(null!=t)throw t}),function e(c){var d,m=arguments,v=e.Promise||f.Promise||t,h=n||this,b=new v((function(n,t){var e,f=function(){try{var o=u.call(arguments);a&&a(o),e&&e.apply(this,o),y(o,n,b,h)}catch(n){t(n)}};if(!s){var c=p?0:m.length-1;l(e=m[c])?m[c]=f:e=void 0}e||(p?i:r).call(m,f),d=o.apply(h,m)}));return h&&(b.this=h),null!=d&&(b.result=d),b}}function l(n){return"function"==typeof n}return f.all=function(t,e,i,r,u,c){for(var p in"object"!=n(e)&&(c=u,u=r,r=i,i=e,e={}),t)o.call(t,p)&&l(t[p])&&(e[p]=f(t[p],i,r,u,c));return e},f.p2c=function(n,t){return t&&n.then((function(n){return t(void 0,n)}),t),n},f.Promise=t,f.val=function(n){return function(){return n}},f}));
